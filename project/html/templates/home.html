<div layout="column" ng-cloak>

	<md-toolbar class="md-hue-2">
	  <div class="md-toolbar-tools">
	  
	  	<md-button class="md-icon-button" ng-click="toggle()" aria-label="Open the sidenav menu">
	  		<md-tooltip>Open the sidenav menu</md-tooltip>
			<i class="fas fa-bars"></i>
		</md-button>
	  
	    <h2 flex md-truncate>Pipeline Creator</h2>
	    
	    <md-button class="md-button md-warn md-raised" ng-click="refresh()" aria-label="Refresh">
	    	<md-tooltip>Reload the projects</md-tooltip>
			<i class="fas fa-sync"></i>
			Refresh
		</md-button>
		
	  </div>
	</md-toolbar>
	
	<section layout="row" flex>
		<md-sidenav md-is-locked-open="keep_sidenav_open" style="height: 1000px;" md-whiteframe="4" class="md-sidenav-left" md-component-id="sidenav">
			<md-toolbar class="md-theme-indigo">
			 	<div class="md-toolbar-tools">
					<h1 flex md-truncate>Project list</h1>
					<md-button ng-click="showAddProjectDialog()" class="md-icon-button" tooltip="Create a new project" aria-label="Add a new project">
			          	<ng-md-icon icon="add_circle" style="fill: white;"></ng-md-icon>
					</md-button>
				</div>
		 	</md-toolbar>
			<md-content flex>
				<div layout-margin>
					<md-checkbox ng-model="keep_sidenav_open" aria-label="Keep sidenav open">
						<span>Keep side menu open</span>
					</md-checkbox>
				</div>
				<md-list flex>
					<md-divider ></md-divider>
					<md-list-item class="md-3-line" ng-repeat="project in projects" ng-click="select_project(project)">
						<img ng-src="{{project.img}}" class="md-avatar" alt="{{project.title}}" />
						<div class="md-list-item-text" layout="column">
							<h3>{{ project.title }}</h3>
						    <h4>{{ project.subtitle }}</h4>
						    <p>{{ project.description }}</p>
					  	</div>
					  	<md-button ng-click="showDeleteProjectDialog($index, $event)" class="md-icon-button" tooltip="Delete this project" aria-label="Delete this project">
							<ng-md-icon icon="delete"></ng-md-icon>
						</md-button>
						<md-divider ></md-divider>
					</md-list-item>
					<md-divider ></md-divider>
				</md-list>
		    </md-content>
		</md-sidenav>
		
		<ng-include src="'templates/project.html'" layout="column" layout-align="start stretch" flex></ng-include>
	</section>
</div>