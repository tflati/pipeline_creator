<section>

	<md-subheader class="md-primary">Pipeline</md-subheader>
	
	<label>Associate the pipeline</label>
	<md-select ng-model="experiment.dataset.pipeline" aria-label="Specifies the pipeline">
       	<md-option ng-repeat="pipeline in selected_project.pipelines" ng-value="pipeline.id">
       		<div flex layout="row" layout-align="left center">
       				<i class="fa fa-cogs"></i>
       				<p class="margin-left-10" ng-bind="pipeline.id"></p>
	       	</div>
       	</md-option>
	</md-select>
	
	<md-subheader class="md-primary">Study</md-subheader>
	
	<label>Study information</label>
	<md-content layout="column" layout-padding>
		<table>
			<tr ng-repeat="(key, value) in experiment.dataset.study">
				<td><b>{{key}}</b></td>
				<td>{{value}}</td>
			</tr>
		</table>
		
<!-- 		<div ng-if="experiment.dataset.paper_id"> -->
<!-- 			<label>Paper ID</label> -->
<!-- 			<p>{{experiment.dataset.paper_id}}</p> -->
<!-- 		</div> -->
	</md-content>
	
	<md-subheader class="md-primary">Library info</md-subheader>
	
	<md-switch md-invert ng-model="experiment.dataset.pairedend" aria-label="Library">
    	Paired-end library {{ pairedend }}
  	</md-switch>
  	
  	<label>Platform</label>
	<p ng-bind="experiment.dataset.platform"></p>
  	
  	<label>Select the genome</label>
	<md-select ng-model="experiment.dataset.genome" md-on-open="load_genomes(experiment.dataset.cluster)" aria-label="Specifies the genome">
       	<md-option ng-repeat="genome in genomes" ng-value="genome.id">
       		<div flex layout="row">
       			<div>
       				<img width="40px" ng-src="{{genome.img}}" layout-padding>
       			</div>
	       		<div layout="row" layout-align="left center">
					<span ng-if="genome.organism">{{genome.organism}} -&nbsp;</span><span ng-if="genome.name">{{genome.name}}&nbsp;</span><span class="lighter">({{genome.id}})</span>
	       		</div>
	       	</div>
       	</md-option>
	</md-select>
	
	<md-subheader class="md-primary">Sample info</md-subheader>
	<md-content layout="column" layout-padding>
		
		<label>Sample ID</label>
		<p ng-bind="experiment.dataset.biosample_id"></p>
		
		<label>Sample attributes</label>
		<table>
			<tr ng-repeat="(key, value) in experiment.dataset.attributes">
				<td><b>{{key}}</b></td>
				<td>{{value}}</td>
			</tr>
		</table>
	</md-content>
	
	<label>Dataset information</label>
	<md-content layout="column" layout-padding>
		<md-input-container>
			<label>Project ID</label>
			<input label="Project ID" type="text" ng-model="experiment.dataset.id">
		</md-input-container>
		
		<md-subheader class="md-primary">
			Load one or more XLS files or specify the sample IDs manually in the textarea (one per line)
			<span class="lighter">(<span ng-bind="experiment.dataset.sample_ids.split('\n').length"></span> sample(s) defined)</span>
		</md-subheader>
		<md-input-container>
			<textarea max-rows="3" rows="3" label="Sample IDS" ng-model="experiment.dataset.sample_ids" aria-label="Sample IDs"></textarea>
		</md-input-container>
		<md-input-container>
			<input type="file" import-sheet-js="xls_loaded" multiple aria-label="Load sample IDS from a file"/>
		</md-input-container>
		
<!-- 		<md-input-container> -->
<!-- 			<label>Base directory</label> -->
<!-- 			<input label="Basedir" type="text" ng-model="experiment.dataset.basedir"> -->
<!-- 			<md-checkbox ng-model="experiment.dataset.create_per_sample_directory" aria-label="Create a directory for each sample"> -->
<!-- 				<span>Create a directory for each sample</span> -->
<!-- 			</md-checkbox> -->
<!-- 		</md-input-container> -->
	</md-content>
</section>
